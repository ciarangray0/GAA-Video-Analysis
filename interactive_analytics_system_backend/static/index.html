<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GAA Video Analysis System</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>GAA Video Analysis System</h1>
            <p>Upload videos, track players, and analyze trajectories</p>
        </header>

        <!-- Step 1: Upload Video -->
        <section id="upload-section" class="section">
            <h2>Step 1: Upload Video</h2>
            <div class="upload-area">
                <input type="file" id="video-input" accept="video/*">
                <button id="upload-btn" class="btn btn-primary">Upload Video</button>
            </div>
            <div id="upload-status" class="status"></div>
            <div id="video-info" class="info"></div>
        </section>

        <!-- Step 2: Run Tracking -->
        <section id="tracking-section" class="section" style="display: none;">
            <h2>Step 2: Run Tracking</h2>
            <button id="track-btn" class="btn btn-primary">Run YOLO + ByteTrack</button>
            <div id="tracking-status" class="status"></div>
        </section>

        <!-- Step 3: Annotate Pitch Points -->
        <section id="annotation-section" class="section" style="display: none;">
            <h2>Step 3: Annotate Pitch Points</h2>
            <div class="annotation-controls">
                <label>Frame Index: <input type="number" id="frame-input" value="0" min="0"></label>
                <button id="load-frame-btn" class="btn btn-secondary">Load Frame</button>
            </div>
            <div class="canvas-container">
                <canvas id="annotation-canvas"></canvas>
                <div class="canvas-info">
                    <p>Click on the image to mark pitch points. Select pitch point type:</p>
                    <select id="pitch-point-select">
                        <option value="corner_tl">Top Left Corner</option>
                        <option value="corner_tr">Top Right Corner</option>
                        <option value="corner_bl">Bottom Left Corner</option>
                        <option value="corner_br">Bottom Right Corner</option>
                        <option value="top_goal_lp">Top Goal Left Post</option>
                        <option value="top_goal_rp">Top Goal Right Post</option>
                        <option value="bottom_goal_lp">Bottom Goal Left Post</option>
                        <option value="bottom_goal_rp">Bottom Goal Right Post</option>
                    </select>
                    <button id="clear-points-btn" class="btn btn-secondary">Clear Points</button>
                    <button id="save-annotation-btn" class="btn btn-primary">Save Annotation for This Frame</button>
                </div>
            </div>
            <div id="annotation-status" class="status"></div>
            <div id="annotated-frames" class="info"></div>
        </section>

        <!-- Step 4: Compute Homographies -->
        <section id="homography-section" class="section" style="display: none;">
            <h2>Step 4: Compute Homographies</h2>
            <button id="compute-homography-btn" class="btn btn-primary">Compute Homographies</button>
            <div id="homography-status" class="status"></div>
        </section>

        <!-- Step 5: Map Players -->
        <section id="mapping-section" class="section" style="display: none;">
            <h2>Step 5: Map Players to Pitch</h2>
            <button id="map-players-btn" class="btn btn-primary">Map Players</button>
            <div id="mapping-status" class="status"></div>
        </section>

        <!-- Step 6: Interpolate Trajectories -->
        <section id="interpolation-section" class="section" style="display: none;">
            <h2>Step 6: Interpolate Trajectories</h2>
            <div class="interpolation-controls">
                <label>Start Frame: <input type="number" id="start-frame" value="0" min="0"></label>
                <label>End Frame: <input type="number" id="end-frame" value="100" min="0"></label>
                <button id="interpolate-btn" class="btn btn-primary">Interpolate</button>
            </div>
            <div id="interpolation-status" class="status"></div>
        </section>

        <!-- Step 7: View Results -->
        <section id="results-section" class="section" style="display: none;">
            <h2>Step 7: View Player Positions</h2>
            <div class="results-controls">
                <label>Frame: <input type="number" id="view-frame" value="0" min="0"></label>
                <button id="load-positions-btn" class="btn btn-primary">Load Positions</button>
            </div>
            <div id="results-status" class="status"></div>
            <div id="positions-display" class="info"></div>
        </section>
    </div>

    <script src="app.js"></script>
</body>
</html>
